# PROJECT(SensorFusion)

find_package (Eigen3 3.3 REQUIRED NO_MODULE)
if (FILTERPLOT)
	find_package(OpenCV REQUIRED)
endif()

if (FILTERPLOT)
include_directories (
		${PROJECT_SOURCE_DIR}/Lib_Plotter
		${PROJECT_SOURCE_DIR}/Lib_SensorFusion
		${PROJECT_SOURCE_DIR}/Lib_GINOP
		)
else()
include_directories (
		${PROJECT_SOURCE_DIR}/Lib_SensorFusion
		${PROJECT_SOURCE_DIR}/Lib_GINOP
		)
endif()

# Add all header and cpp files in the directory to the project
set (HEADERS
	pch.h
	Simulation_youBot_Kalman.h
	Simulation_youBot_WAUKF.h
	)

set (SOURCES
	main.cpp
	pch.cpp
	Simulation_youBot_Kalman.cpp
	Simulation_youBot_WAUKF.cpp
	)

# Add the dinamic library target to the project
add_executable (App_Tester ${SOURCES} ${HEADERS})

# Link with dependency libraries
if (FILTERPLOT)
	target_link_libraries (App_Tester Lib_Plotter Lib_SensorFusion Lib_GINOP ${OpenCV_LIBS}
	)
	add_compile_definitions(FILTERPLOT)
else()
	target_link_libraries (App_Tester Lib_SensorFusion Lib_GINOP
	)
endif()

set(CMAKE_CXX_FLAGS_RELEASE "${CMAKE_CXX_FLAGS_RELEASE} /MT")
set(CMAKE_CXX_FLAGS_DEBUG "${CMAKE_CXX_FLAGS_DEBUG} /MTd")
set(CMAKE_CXX_FLAGS_RELWITHDEBINFO "${CMAKE_CXX_FLAGS_RELWITHDEBINFO} /MT")
set(CMAKE_CXX_FLAGS_MINSIZEREL "${CMAKE_CXX_FLAGS_MINSIZEREL} /MT")